!function(){"use strict";function r(r,s,o){s.UserInfo={Username:"",Email:"",ConfPassword:"",Password:""},s.showLog=!0,s.showReg=!1,s.switchLogin=function(){s.showLog=!0,s.showReg=!1},s.switchReg=function(){s.showLog=!1,s.showReg=!0},s.registerUser=function(){if(n(s.UserInfo)){var a={Username:s.UserInfo.Username,Password:s.UserInfo.Password,Email:s.UserInfo.Email};r.post("/register",a).then(function(r){}).finally(function(){})}};var n=function(r){s.regValid={Username:{valid:!0,errorMessage:""},Email:{valid:!0,errorMessage:""},Password:{valid:!0,errorMessage:{lengthError:"",alphaError:"",digitError:"",upperError:""}},ConfPassword:{valid:!0,errorMessage:""}};var o=!0;return(r.Username.length<3||r.Username.length>32)&&(s.regValid.Username.valid=!1,s.regValid.Username.errorMessage="Username must be between 3 and 32 characters long",o=!1),e(r.Email)||(s.regValid.Email.valid=!1,s.regValid.Email.errorMessage="Email address is not valid",o=!1),a(r.Password,1)||(s.regValid.Password.valid=!1,s.regValid.Password.errorMessage.lengthError="Must contains at least 8 characters",o=!1),a(r.Password,2)||(s.regValid.Password.valid=!1,s.regValid.Password.errorMessage.alphaError="Must have at least one non alphanumeric character",o=!1),a(r.Password,3)||(s.regValid.Password.valid=!1,s.regValid.Password.errorMessage.digitError="Must have at least one digit ('0'-'9')",o=!1),a(r.Password,4)||(s.regValid.Password.valid=!1,s.regValid.Password.errorMessage.upperError="Must have at least one uppercase ('A'-'Z')",o=!1),r.Password!=r.ConfPassword&&(s.regValid.ConfPassword.valid=!1,s.regValid.ConfPassword.errorMessage="Passwords do not match",o=!1),o}}function a(r,a){switch(a){case 1:var e=/[A-Za-z\d$@#$^!%*?&]{8,}/;return e.test(r);case 2:var e=/^(?=.*[$@#$!%^*?&])[A-Za-z\d$@#$^!%*?&]/;return e.test(r);case 3:var e=/^(?=.*\d)[A-Za-z\d$@#$^!%*?&]/;return e.test(r);case 4:var e=/^(?=.*[A-Z])[A-Za-z\d$@#$^!%*?&]/;return e.test(r)}}function e(r){var a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{1,}))$/;return a.test(r)}angular.module("app-auth").controller("authenticationController",r)}();